# Core runtime
NODE_ENV=production
PORT=3000
REQUEST_BODY_LIMIT_MB=5
FRONTEND_URL=http://13.239.29.168:3001
# Cookie security override:
# - false: allow HTTP deployments (EC2 public IP without TLS)
# - true: force Secure cookies (HTTPS only)
COOKIE_SECURE=false
JWT_SECRET=f8a7b0bbdd1e218c8d9b8e6021c29b2870d32f1b5a08fd7a408c5e3ed5f16e6b

# Database
DATABASE_HOST=pos-db.c10wq6oq4cnx.ap-southeast-2.rds.amazonaws.com
DATABASE_PORT=5432
DATABASE_USER=postgres
DATABASE_PASSWORD=65160177
DATABASE_NAME=postgres
DATABASE_SSL=true
DATABASE_SSL_REJECT_UNAUTHORIZED=false
DATABASE_POOL_MAX=10
DATABASE_POOL_MIN=5
DATABASE_CONNECTION_TIMEOUT_MS=5000
DATABASE_IDLE_TIMEOUT_MS=30000
STATEMENT_TIMEOUT_MS=30000
TYPEORM_SYNC=true
ALLOW_TYPEORM_SYNC_WITH_NON_OWNER=0
ALLOW_BYPASSRLS=0
RUN_MIGRATIONS_ON_START=true
REQUIRE_NO_PENDING_MIGRATIONS=true

# RBAC baseline seed
RUN_RBAC_BASELINE_ON_START=true
BOOTSTRAP_DEFAULT_BRANCH_NAME=Main Branch
BOOTSTRAP_DEFAULT_BRANCH_CODE=MB
BOOTSTRAP_ADMIN_USERNAME=admin
BOOTSTRAP_ADMIN_PASSWORD=27451tenX.
BOOTSTRAP_ADMIN_NAME=System Administrator
BOOTSTRAP_ADMIN_BRANCH_ID=

# Redis (app/session/cache)
REDIS_URL=redis://default:5DGz0cgRnnPUSWAIUl2RLosyKbFDtpoy@redis-12881.c292.ap-southeast-1-1.ec2.cloud.redislabs.com:12881
REDIS_TLS=false
REDIS_TLS_REJECT_UNAUTHORIZED=false
REDIS_TLS_AUTO_FALLBACK=true
REDIS_CONNECT_TIMEOUT_MS=5000
REDIS_DISABLED=false
REDIS_PREFIX=pos-prod

# Redis (rate limit)
RATE_LIMIT_REDIS_URL=redis://default:5DGz0cgRnnPUSWAIUl2RLosyKbFDtpoy@redis-12881.c292.ap-southeast-1-1.ec2.cloud.redislabs.com:12881
RATE_LIMIT_REDIS_TLS=false
RATE_LIMIT_REDIS_TLS_REJECT_UNAUTHORIZED=false
RATE_LIMIT_REDIS_TLS_AUTO_FALLBACK=true
RATE_LIMIT_REDIS_DISABLED=false
RATE_LIMIT_REDIS_CONNECT_TIMEOUT_MS=5000
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=20000
RATE_LIMIT_AUTH_WINDOW_MS=900000
RATE_LIMIT_AUTH_MAX=20
RATE_LIMIT_ORDER_WINDOW_MS=60000
RATE_LIMIT_ORDER_MAX=30
RATE_LIMIT_PAYMENT_WINDOW_MS=300000
RATE_LIMIT_PAYMENT_MAX=50
RATE_LIMIT_PASSWORD_RESET_WINDOW_MS=3600000
RATE_LIMIT_PASSWORD_RESET_MAX=5

# Session and socket
SESSION_TIMEOUT_MS=28800000
SOCKET_REDIS_ADAPTER_ENABLED=false

# Metrics and health
METRICS_ENABLED=true
METRICS_API_KEY=U0RL05mLGtqsQOqhJsFl41HYS23kPbJh3Z8mIpUddNQmLluZC4T4y6nPBexuD2Kh
HEALTH_RETENTION_STALE_HOURS=36

# Retention cleanup (for cronjob)
RETENTION_LOG_FILE=logs/retention-jobs.log
RETENTION_WARN_DELETED_TOTAL=5000
ORDER_RETENTION_ENABLED=true
ORDER_RETENTION_DRY_RUN=false
ORDER_RETENTION_DAYS=30
ORDER_QUEUE_RETENTION_ENABLED=true
ORDER_QUEUE_RETENTION_DRY_RUN=false
ORDER_QUEUE_RETENTION_DAYS=14
STOCK_ORDER_RETENTION_ENABLED=true
STOCK_ORDER_RETENTION_DRY_RUN=false
STOCK_ORDER_RETENTION_DAYS=7
AUDIT_LOG_RETENTION_ENABLED=true
AUDIT_LOG_RETENTION_DRY_RUN=false
AUDIT_LOG_RETENTION_DAYS=90

# Optional performance logs
ENABLE_PERF_LOG=false
ENABLE_SLOW_REQUEST_LOG=false
SLOW_REQUEST_THRESHOLD_MS=800
