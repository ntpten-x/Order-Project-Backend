DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=your_db_user
DATABASE_PASSWORD=your_db_password
DATABASE_NAME=your_db_name
PORT=4000

DATABASE_SSL=true
DATABASE_SSL_REJECT_UNAUTHORIZED=false
DATABASE_POOL_MAX=10
DATABASE_CONNECTION_TIMEOUT_MS=5000
STATEMENT_TIMEOUT_MS=30000
TYPEORM_SYNC=true
JWT_SECRET=replace_with_a_strong_random_secret
REQUEST_BODY_LIMIT_MB=5
FRONTEND_URL=http://localhost:3000
SESSION_TIMEOUT_MS=28800000
# Redis (sessions, auth, etc.)
# - Local/dev (no TLS): redis://localhost:6379
# - Redis Cloud (TLS):  rediss://user:pass@host:port
# - If Redis Cloud shows `redis-cli -u redis://...` (no `--tls`), use `redis://` and set `REDIS_TLS=false`
REDIS_URL=redis://localhost:6379
# Optional override: set to false if your Redis endpoint does not support TLS but you accidentally used rediss://
REDIS_TLS=
# If true (default in non-production), the app will retry without TLS when it detects ERR_SSL_WRONG_VERSION_NUMBER
REDIS_TLS_AUTO_FALLBACK=
# Optional connect timeout (ms)
REDIS_CONNECT_TIMEOUT_MS=
REDIS_PREFIX=order-app
REDIS_CACHE_ENABLED=false
SOCKET_REDIS_ADAPTER_ENABLED=false

# Data Retention (Orders)
ORDER_RETENTION_ENABLED=false
ORDER_RETENTION_DAYS=30
ORDER_RETENTION_STATUSES=Paid,Completed,Cancelled,completed,cancelled
ORDER_RETENTION_BATCH_SIZE=500
ORDER_RETENTION_MAX_BATCHES=50
ORDER_RETENTION_DRY_RUN=false

# Data Retention (Queue)
ORDER_QUEUE_RETENTION_ENABLED=false
ORDER_QUEUE_RETENTION_DAYS=7
ORDER_QUEUE_RETENTION_STATUSES=Completed,cancelled,Cancelled,completed
ORDER_QUEUE_RETENTION_DRY_RUN=false
RETENTION_LOG_FILE=logs/retention-jobs.log
RETENTION_WARN_DELETED_TOTAL=5000

# Rate limiting (Redis) - Redis Cloud example (TLS)
RATE_LIMIT_REDIS_URL=redis://localhost:6379
RATE_LIMIT_REDIS_TLS=true
# set to false if using self-signed certs
RATE_LIMIT_REDIS_TLS_REJECT_UNAUTHORIZED=false
# If true (default in non-production), rate limiter retries without TLS when it detects ERR_SSL_WRONG_VERSION_NUMBER
RATE_LIMIT_REDIS_TLS_AUTO_FALLBACK=
# Optional connect timeout (ms)
RATE_LIMIT_REDIS_CONNECT_TIMEOUT_MS=
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=1000
RATE_LIMIT_AUTH_WINDOW_MS=900000
RATE_LIMIT_AUTH_MAX=20
RATE_LIMIT_ORDER_WINDOW_MS=60000
RATE_LIMIT_ORDER_MAX=30
RATE_LIMIT_PAYMENT_WINDOW_MS=300000
RATE_LIMIT_PAYMENT_MAX=50
RATE_LIMIT_PASSWORD_RESET_WINDOW_MS=3600000
RATE_LIMIT_PASSWORD_RESET_MAX=5

# Metrics (Prometheus)
METRICS_ENABLED=false
METRICS_API_KEY=replace_with_metrics_api_key
